<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spCamera</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>999999999</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Init
d3d_start();
draw_set_alpha_test(true);
d3d_set_culling(true);

cxfrom = 0;
cyfrom = 0;
czfrom = 0;
cxto = 0;
cyto = 0;
czto = 0;

z = 0;

player = noone;

direction = 90;
pitch = 0;

fov = 70;

// Editor
ex = undefined;
ey = undefined;
ez = undefined;

prev_edir = direction;
prev_epitch = pitch;

// Raycast
sx = 0;
sy = 0;
sz = 0;

espd = 3;
esensitivity = 0.1;

eobj = noone;
earrow = -1;
epos_diff = 0;


artTotalMaxHp = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>d3d_end();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw GUI
var e = getMechEnemy();
var p = getMechPlayer();

var divider = 2;

var php = 0;
if p != noone {
    if p.hurt  divider = 1.5;
    with (p) php = hp;
}
var playerCol = make_colour_rgb(0, 255 / divider, 255 / divider);
for (var i = 0; i &lt; 10; i++) {
    draw_sprite_ext(spHealthContainer, 0, 1 + i * 5, 1, 1, 1, 0, playerCol, 1);
}

for (var i = 0; i &lt; ceil(php / 10); i++) {
    draw_sprite_ext(spHealth, 0, 1 + i * 5, 1, 1, 1, 0, playerCol, 1);
}

d3d_set_culling(false);
divider = 2;
var ehp = 0;
if oGame.pointName == "Lake" or oGame.pointName == "City" {
    if e != noone {
        if e.hurt  divider = 1.5;
        
        with (e) ehp = ceil(hp / 10);
    }
} else if oGame.pointName == "Forest" {
    var totalHp = 0;
    var init = false;
    if artTotalMaxHp == 0 init = true;
    with (oArt) {
        totalHp += hp;
        if init other.artTotalMaxHp += max_hp;
    }
    ehp = ceil(totalHp / artTotalMaxHp * 10);
}
var enemyCol = make_colour_rgb(255 / divider, 0, 255 / divider);
for (var i = 0; i &lt; 10; i++) {
    draw_sprite_ext(spHealthContainer, 0, view_wview - i * 5 - 1, 1, -1, 1, 0, enemyCol, 1);
}
for (var i = 0; i &lt; ehp; i++) {
    draw_sprite_ext(spHealth, 0, view_wview - i * 5 - 1, 1, -1, 1, 0, enemyCol, 1);
}

d3d_set_culling(true);

draw_set_color(c_dkgray);
draw_circle(view_wview/2, view_hview/2, 0.5,0);
draw_set_color(c_white);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw 3D
if not instance_exists(player)  player = noone;
w = view_wview;
h = view_hview;
var e = getMechEnemy();
var p = getMechPlayer();
if e != noone and e.hp &lt;= 0 {
    d3d_set_projection_ext(e.x + lengthdir_x(32, e.direction),
                           e.y + lengthdir_y(32, e.direction),
                           e.z + e.height / 2,
                           e.x, e.y, e.z + e.height / 2,
                           0, 0, 1,
                           fov, w/h,
                           1, 3200);
} else {
    if player != noone {
        cxfrom = player.cxfrom;
        cyfrom = player.cyfrom;
        czfrom = player.czfrom;
        cxto = player.cxto;
        cyto = player.cyto;
        czto = player.czto;
    }
    if keyboard_check(ord('M')) {
        cxfrom = e.x;
        cyfrom = e.y;
        czfrom = e.z + e.height / 2;
        cxto = cxfrom + lengthdir_x(1, e.direction) * dcos(e.pitch);
        cyto = cyfrom + lengthdir_y(1, e.direction) * dcos(e.pitch);
        czto = czfrom + lengthdir_y(1, e.pitch);
    }
    d3d_set_projection_ext(cxfrom, cyfrom, czfrom,
                           cxto, cyto, czto,
                           0, 0, 1,
                           fov, w/h,
                           1, 3200);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
